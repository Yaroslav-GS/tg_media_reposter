# TG Media Reposter Bot

Небольшой Telegram-бот, который принимает от владельца пересланные посты из любых каналов, извлекает из них медиа (фото или видео) и публикует это медиа в заданный канал.

Особенности:

- работает только с одним владельцем (по `OWNER_ID`);
- публикует сообщения только в один целевой канал;
- не репостит текст целиком, а берёт медиа;
- запускается в Docker-контейнере на базе `python:alpine` через `docker-compose`.

---

## 1. Предварительные требования

- Docker и docker-compose установлены на сервере (Linux).
- Создан Telegram-бот через **@BotFather**, получен `BOT_TOKEN`.
- Бот добавлен администратором в целевой канал с правами на публикацию сообщений.
- Ты знаешь:
  - свой Telegram user id (`OWNER_ID`);
  - username или numeric id канала (`TARGET_CHANNEL_ID`).

---

## 2. Запуск в докере

В корне проекта создайте файл `.env` со следующим содержимым:

```env
# Токен бота от BotFather
BOT_TOKEN=1234567890:AA...your_token_here...

# Telegram user id владельца, который имеет право пользоваться ботом
OWNER_ID=123456789

# Целевой канал для публикации медиа
# Можно использовать @username или numeric id (например, -1001234567890)
TARGET_CHANNEL_ID=@my_channel_username
```

> Важно: `OWNER_ID` должен быть **числом**, без кавычек и лишних пробелов.

В том же каталоге создайте `docker-compose.yml`:

```yaml
services:
  tg-media-reposter:
    build: .
    container_name: yaroslavgs/tg_media_reposter:latest
    restart: unless-stopped
    env_file:
      - .env
    # при желании можно задать таймзону
    environment:
      - TZ=Europe/Stockholm
```
---

## 5. Использование

1. Откройте диалог с ботом в Telegram и отправьте `/start`.
2. Перешлите боту пост из любого канала, содержащий:
   - одно фото, или
   - одно видео.
3. Бот:
   - проверит, что отправитель — владелец (`OWNER_ID`);
   - извлечёт медиа из сообщения;
   - отправит это медиа в канал `TARGET_CHANNEL_ID`;
   - ответит вам в личке, что публикация выполнена.

Любые сообщения от других пользователей игнорируются; бот работает только для одного владельца и только с личными сообщениями.

---
